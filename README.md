# _**Do not look at the solutions if you are also enrolled in this class**_

The evaluationg system is rather trigger-happy and I'm told even a subconscious inspiration _may_ look like plagiarism and we both get flagged. Idk how true that is but I've been told too many times not to show my solutions.

Feel free to yoink the test files tho ~

# BI-PA1 repo

In here I'll be putting my solutions to 2024 CTU Programming 1 course homeworks. I'll try making solutions both in Rust and C.

Each homework is in its own folder supplied with a README.md that contains the assignment and the test input-output files provided by the university.

Every final and submitted version of the C code is tagged and every rust version that passes the same tests is tagged.

## Building and usage

### C

Just navigate to a given folder and use compiler of your choice to compile the .c files.

```
cd hw00
g++ -o output.out -Wall -pedantic *.c
```

Each folder is supplied with testing data from the uni in the `tests` folder. Each _\_in.txt is paired with and _\_out.txt so you can test the program.

```
cd hw00
g++ -o output.out -Wall -pedantic *.c
./output.out < tests/0000_in.txt > tmp && diff tmp tests/0000_out.txt
```

I also have a script for a more conveninent way of testing, but because this repo is also a subject to our GIT course (which makes some unusual choices about repo structure), I can't put a test script in the root dir. So for the convenience of anyone cloning this I'll be putting the script at the end of this readme. May God have mercy.

If you put that script in the root you can run any of the homeworks againts all supplied tests like so

```
chmod +x test.sh
cd hw00
../test.sh
```

### Rust

For the same git reasons I mentioned in the C paragraph, I'll be putting both Cargo.toml and Cargo.lock in here. Run each file separately if you want with

```
cd hw00_rust
cargo run
```

or use the same script as in the C paragraph to run all tests for the given assignment

```
cd hw00_rust
../test.sh
```

## test.sh

```
#!/bin/bash

CURR_DIR=$(basename "$PWD")

if [[ $CURR_DIR == *"_rust" ]]; then
  IFS='_' read -r C_FOLDER _ <<< "$CURR_DIR"
  TESTFILES=("../$C_FOLDER/tests"/*)
  cargo build --release
  mv ../target/release/$CURR_DIR ./output
else
  TESTFILES=("tests"/*)
  g++ -o output -Wall -pedantic *.c
fi
chmod +x output

for FILE in "${TESTFILES[@]}"; do
  FILENAME=$(basename "$FILE")

  # Split type_id into type and id
  IFS='_' read -r ID TYPE <<< "$FILENAME"

  if [ "$TYPE" == "out.txt" ]; then
    continue
  fi

  OUTPUT_FILE="${FILE/in/out}"

  # Check if the output file exists
  if [ ! -f "$OUTPUT_FILE" ]; then
    echo "Warning: Output file for $FILENAME not found. The heck?"
    continue
  fi

  ./output < "$FILE" > tmp || true
  if diff tmp "$OUTPUT_FILE"; then
    echo Test $ID passsed
  else
    echo "Test $ID failed"
    diff tmp "$OUTPUT_FILE"
    rm tmp
    rm output
    exit 1
  fi
done
rm output
rm tmp
exit 0
```

## Cargo.toml

```
[workspace]

members = [
  "hw00_rust"
]
```

## Cargo.lock

```
# This file is automatically @generated by Cargo.
# It is not intended for manual editing.
version = 3

[[package]]
name = "hw00_rust"
version = "0.1.0"

```
